# Lenovo SR665 V3 (7D9A)

## Helpful Links

* [Maintenanace Manual](https://pubs.lenovo.com/sr665-v3/sr665_v3_hardware_maintenance_guide.pdf)
* [Driver Downloads](https://datacentersupport.lenovo.com/us/en/products/servers/thinksystem/SR665v3/downloads/driver-list)
* [Product Guide](https://lenovopress.lenovo.com/lp1608.pdf)
* [Lenovo Knowledge Transfer](https://drive.google.com/drive/u/1/folders/1iixkyIMrfw5Y6JNFq5yaAMyd7vM84pVD)

## Inventory

Slot map:

| | | |
|---|---|---|
|Slot|Component|Location|
|4|NVIDIA DPU|Riser 2|

Component inventory:

| | | | | | |
|---|---|---|---|---|---|
| Node Type | Vendor | Model | Component | Description | Quantity |
| Cache (STR) | Lenovo | ThinkSystem SR665 V3 OVX | | |  |
| | | | DPU | Bluefield 3 | 1 |
| | | | CPU | AMD 9334 @ 3.9GHz | 2 |
| | | | Memory | 1TB (64GB Sticks) | 16 |
| | | | Disks (boot) | 960GB M2 NVMe SSD | 1 |

## Updating Firmware

Lenovo servers can be finicky about updates so when doing firmware updates follow this advice:

* **Always update XCC before UEFI.** You can go from any version to the latest in one go.
* **Always update UEFI while the system is powered off** There does not appear to be any prerequisite UEFI versions
  so its possible to update from any version to the latest.
* Lenovo recommends using XCC to apply firmware updates, but [OneCLI](./onecli.md) can also be used.

### Firmware Downloads

The XCC and UEFI versions are the same for all types of SR 655 V3 variants.

| | |
|---|---|
| XCC 4.60 | lnvgy\_fw\_xcc\_kax348m-4.60\_anyos\_noarch.zip|
| | [https://datacentersupport.lenovo.com/us/en/downloads/ds573159-lenovo-xclarity-controller-xccbmc-firmware](https://datacentersupport.lenovo.com/us/en/downloads/ds573159-lenovo-xclarity-controller-xccbmc-firmware) |
| UEFI 5.30| lnvgy\_fw\_uefi\_kae132i-5.30\_anyos\_32-64.zip |
| | [https://datacentersupport.lenovo.com/us/en/downloads/ds573160-lenovo-system-uefibios-firmware](https://datacentersupport.lenovo.com/us/en/downloads/ds573160-lenovo-system-uefibios-firmware) |

## Internal Cabling

The SR665 systems are much less complicated than the GPU nodes, but it is still essential to get cabling correct.

Symptoms of incorrect cabling can include:

* System hang at DXE INIT
* Missing PCIe devices
* PCIe Conn X has encountered a configuration error

The following graphics show how the data cables should route in the system:

> **Note: The SR665 V3 shares the same cabling as the SR655**

<figure>
<img src=../../static/playbooks/hardware/sr655v3_cabling.png
alt="SR665 V3 cable routing">
</figure>

More details can be found in the maintenance manual.

### Connectors

System board connectors:

<figure>
<img src=../../static/playbooks/hardware/sr665v3_connectors.png
alt="SR665 V3 system board connectors">
</figure>

<figure>
<img src=../../static/playbooks/hardware/sr665v3_connectors_2.png
alt="SR665 V3 system board connectors">
</figure>
